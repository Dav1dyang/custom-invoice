<!DOCTYPE html>
<html lang="en" data-theme="light">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1" />
    <title>Invoice Workbench • Histolysis Edition</title>
    <link rel="preconnect" href="https://fonts.googleapis.com" />
    <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin />
    <link
      href="https://fonts.googleapis.com/css2?family=Space+Grotesk:wght@400;500;600&family=Share+Tech+Mono&display=swap"
      rel="stylesheet"
    />
    <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js" defer></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js" defer></script>
    <link rel="stylesheet" href="styles.css" />
    <script src="app.js" defer></script>
  </head>
  <body>
    <main class="workspace" id="workspace">
      <header class="workspace__masthead">
        <div>
          <p class="workspace__eyebrow">Circuit Lab Toolkit</p>
          <h1 class="workspace__title">Invoice Workbench</h1>
          <p class="workspace__subtitle">
            Guided form + schematic preview so anyone can confirm the data and export the PDF in seconds.
          </p>
        </div>
        <div class="workspace__toggles">
          <label class="toggle">
            <span class="toggle__label">Theme</span>
            <select id="themeSelect" class="toggle__control">
              <option value="light">Light</option>
              <option value="dark">Dark</option>
            </select>
          </label>
          <label class="toggle">
            <span class="toggle__label">Accent</span>
            <input type="color" id="accentPicker" class="toggle__control" value="#cc3651" />
          </label>
        </div>
      </header>

      <section class="workspace__body">
        <form id="invoiceForm" class="form">
          <section class="form__card">
            <h2 class="form__title">Layout preferences</h2>
            <div class="form__grid form__grid--two">
              <label class="field">
                <span class="field__label">Orientation</span>
                <select name="orientation" id="orientation" class="field__control">
                  <option value="portrait" selected>Portrait (Letter)</option>
                  <option value="landscape">Landscape (Letter)</option>
                </select>
              </label>
              <label class="field">
                <span class="field__label">Panel density</span>
                <select name="panelDensity" id="panelDensity" class="field__control">
                  <option value="standard" selected>Standard grid</option>
                  <option value="dense">Dense traces</option>
                </select>
              </label>
              <label class="field field--span">
                <span class="field__label">Optional logo</span>
                <input type="file" id="logoInput" class="field__control" accept="image/*" />
                <small class="field__hint">Upload PNG or SVG under 1MB.</small>
              </label>
            </div>
            <figure class="logo-preview" id="logoPreview" hidden>
              <img alt="Logo preview" id="logoPreviewImage" />
            </figure>
          </section>

          <section class="form__card">
            <h2 class="form__title">Sender</h2>
            <div class="form__grid form__grid--two">
              <label class="field">
                <span class="field__label">Name</span>
                <input type="text" id="fromName" class="field__control" value="David Yang" />
              </label>
              <label class="field">
                <span class="field__label">Website</span>
                <input type="text" id="fromWebsite" class="field__control" value="www.davidyang.work" />
              </label>
              <label class="field">
                <span class="field__label">Phone</span>
                <input type="text" id="fromPhone" class="field__control" value="480-787-9710" />
              </label>
              <label class="field field--span">
                <span class="field__label">Address</span>
                <input type="text" id="fromAddress" class="field__control" value="10 Montieth St, APT 241, Brooklyn, NY 11206" />
              </label>
            </div>
          </section>

          <section class="form__card">
            <h2 class="form__title">Client</h2>
            <div class="form__grid form__grid--two">
              <label class="field">
                <span class="field__label">Client name</span>
                <input type="text" id="clientName" class="field__control" value="MORAKANA" />
              </label>
              <label class="field">
                <span class="field__label">Project</span>
                <input type="text" id="projectName" class="field__control" value="MORAKANA Histolysis" />
              </label>
              <label class="field field--span">
                <span class="field__label">Billing contact</span>
                <textarea id="clientContacts" rows="2" class="field__control">MORAKANA — Sebastián & Tiri
493 Greene Ave, Brooklyn, NY 11216
seb@morakana.com (312) 399-1519 • tiri@morakana.com (917) 456-2956</textarea>
              </label>
            </div>
          </section>

          <section class="form__card">
            <h2 class="form__title">Key dates & terms</h2>
            <div class="form__grid form__grid--three">
              <label class="field">
                <span class="field__label">Invoice number</span>
                <input type="text" id="invoiceNumber" class="field__control" value="IN-19" />
              </label>
              <label class="field">
                <span class="field__label">Invoice date</span>
                <input type="date" id="invoiceDate" class="field__control" value="2025-07-11" />
              </label>
              <label class="field">
                <span class="field__label">Due date</span>
                <input type="date" id="dueDate" class="field__control" value="2025-08-11" />
              </label>
              <label class="field">
                <span class="field__label">Issued</span>
                <input type="date" id="issuedDate" class="field__control" value="2025-06-08" />
              </label>
              <label class="field">
                <span class="field__label">Completed</span>
                <input type="date" id="completedDate" class="field__control" value="2025-07-12" />
              </label>
              <label class="field">
                <span class="field__label">Status</span>
                <input type="text" id="invoiceStatus" class="field__control" value="Requested" />
              </label>
              <label class="field">
                <span class="field__label">Currency</span>
                <select id="currency" class="field__control">
                  <option value="USD" selected>USD — United States Dollar</option>
                  <option value="EUR">EUR — Euro</option>
                  <option value="GBP">GBP — British Pound</option>
                  <option value="JPY">JPY — Japanese Yen</option>
                </select>
              </label>
            </div>
          </section>

          <section class="form__card">
            <h2 class="form__title">Payment instructions</h2>
            <label class="field field--span">
              <span class="field__label">Details</span>
              <textarea id="paymentDetails" rows="4" class="field__control">Transfer via Zelle or Venmo — davidyangfinance@gmail.com · 480-787-9710
ACH Transfer — Routing 021000322 · Account 48309130581</textarea>
            </label>
            <label class="field field--span">
              <span class="field__label">Invoice notes</span>
              <textarea id="invoiceNotes" rows="3" class="field__control">Included the refund from JLCPCB about the Histolysis order.</textarea>
            </label>
          </section>

          <section class="form__card">
            <header class="form__heading">
              <h2 class="form__title">Billable work</h2>
              <button type="button" id="addLineItem" class="btn btn--ghost">Add row</button>
            </header>
            <div class="line-items">
              <div class="line-items__header">
                <span>Description</span>
                <span>Hours / Qty</span>
                <span>Rate</span>
                <span>Amount</span>
                <span></span>
              </div>
              <div class="line-items__body" id="lineItemsBody"></div>
            </div>
            <p class="form__note">
              Empty rows disappear from the preview automatically so only recorded work reaches the PDF.
            </p>
          </section>
        </form>

        <aside class="preview">
          <div class="preview__toolbar">
            <button type="button" id="resetForm" class="btn btn--ghost">Reset to sample</button>
            <button type="button" id="downloadPdf" class="btn btn--primary">Download PDF</button>
          </div>
          <div class="preview__stage">
            <article id="invoicePreview" class="invoice sheet sheet--portrait"></article>
          </div>
        </aside>
      </section>
    </main>
  </body>
</html>
